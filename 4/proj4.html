<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 4: Image Mosaicing</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .description {
            margin-bottom: 40px;
            line-height: 1.6;
            text-align: center;
        }
        .image-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        .image-item {
            text-align: center;
            max-width: 30%; 
        }
        .large-image-item {
            text-align: center;
            width: 90%;
        }
        img {
            display: block;
            width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .caption {
            margin-top: 10px;
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }
        .section-title {
            font-size: 24px;
            margin-top: 40px;
            color: #333;
            text-align: center;
        }
        .image-stack {
            display: block;
            max-width: 1000px;
            margin: 0 auto;
        }
        .image-stack .image-item {
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Project 4: Image Mosaicing</h1>

    <!-- Part 1: Shooting and Digitizing Pictures -->
    <div class="section-title">Part 1: Shooting and Digitizing Pictures</div>
    <div class="description">
        <p>In this project, I create mosaics from pictures I capture utilizing warping through homographies and blending. 
            I captured few photos with overlapping fields of view to accomplish this. Below are a few pictures
        I used for this project.</p>
    </div>
    <div class="image-grid">
        <div class="image-item">
            <img src="./media/mos_1.png" alt="Photograph 1">
            <p class="caption">Campus Photograph 1</p>
        </div>
        <div class="image-item">
            <img src="./media/mos_2.png" alt="Photograph 2">
            <p class="caption">Campus Photograph 2</p>
        </div>
    </div>

    
    <div class="image-grid">
        <div class="image-item">
            <img src="./media/kit_1.png" alt="Photograph 1">
            <p class="caption">Kitchen Photograph 1</p>
        </div>
        <div class="image-item">
            <img src="./media/kit_2.png" alt="Photograph 2">
            <p class="caption">Kitchen Photograph 2</p>
        </div>
    </div>

    <!-- Part 2: Recovering Homographies -->
    <div class="section-title">Part 2: Recovering Homographies</div>
    <div class="description">
        <p>I computed homographies between image pairs using manually defined point correspondences and solved the linear system using least-squares to obtain the transformation matrix. 
            The system of equations was of the form: [-x2, -y2, -1, 0, 0, 0, x1 * x2, x1 * y2, x1] and [0, 0, 0, -x2, -y2, -1, y1 * x2, y1 * y2, y1] allowing
            me to solve for the unkowns of the 3x3 homography matrix (with one entry being 1). 
            This system allows us to recover the homography matrix which allows precise warping between images.</p>
    </div>
    <div class="image-grid">
        <div class="image-item">
            <img src="./media/p1.png" alt="Homography Example">
            <p class="caption">Homography for Campus Mosaic</p>
        </div>
        <div class="image-item">
            <img src="./media/p2.png" alt="Homography Example">
            <p class="caption">Homography for Campus Mosaic</p>
        </div>
    </div>

    <div class="image-grid">
        <div class="image-item">
            <img src="./media/corrs1.png" alt="Homography Example">
            <p class="caption">Homography for Kitchen Mosaic</p>
        </div>
        <div class="image-item">
            <img src="./media/corrs2.png" alt="Homography Example">
            <p class="caption">Homography for Kitchen Mosaic</p>
        </div>
    </div>

    <!-- Part 3: Warping the Images -->
    <div class="section-title">Part 3: Warping the Images</div>
    <div class="description">
        <p>Using the recovered homographies, I warped images to align with the reference image. I implemented forward and inverse warping techniques, ensuring proper 
            interpolation to creare the stiched mosaics. As a sanity check, I took pictures of posters that were at an angle
        in Haas Pavilion and then used the Warping to see if I can warp the poster onto a flat plane. This was done by setting 
        the correspondances of the first image to be the corners of the poster and the correspondances of the
            second image to be rectangular coordinates of the form: [0, 0; 0, d; d, d; d, 0].</p>
    </div>
    <div class="image-grid">
        <div class="image-item">
            <img src="./media/JB.png" alt="Warped Image 1">
            <p class="caption">Jalen Brown</p>
        </div>
        <div class="image-item">
            <img src="./media/jb_rec.png" alt="Warped Image 2">
            <p class="caption">Rectified JB poster</p>
        </div>
    </div>

    <div class="image-grid">
        <div class="image-item">
            <img src="./media/AC.png" alt="Warped Image 1">
            <p class="caption">AC Poster</p>
        </div>
        <div class="image-item">
            <img src="./media/AC_rec.png" alt="Warped Image 2">
            <p class="caption">Rectified AC Poster</p>
        </div>
    </div>

    <!-- Part 4: Blending Images into a Mosaic -->
    <div class="section-title">Part 4: Blending Images into a Mosaic</div>
    <div class="description">
        <p>In this section, I blended warped images into a mosaic using cv2.distanceTransform in order to blend
            the colors on the edge of the stiched mosaics. Three examples of mosaics created from different image sets are shown below.</p>
    </div>
    <div class="image-grid">
        <div class="image-item">
            <img src="./media/mos_1.png" alt="Mosaic 1">
            <p class="caption">Img 1 of Campus</p>
        </div>
        <div class="image-item">
            <img src="./media/mos_2.png" alt="Mosaic 2">
            <p class="caption">Img 2 of Campus</p>
        </div>
        <div class="image-item">
            <img src="./media/mos_f.png" alt="Mosaic 3">
            <p class="caption">Mosaic of Campus</p>
        </div>
    </div>

    <div class="image-grid">
        <div class="image-item">
            <img src="./media/Room1.png" alt="Mosaic 1">
            <p class="caption">Img 1 of our Room</p>
        </div>
        <div class="image-item">
            <img src="./media/Room2.png" alt="Mosaic 2">
            <p class="caption">Img 2 of our Room</p>
        </div>
        <div class="image-item">
            <img src="./media/Room_f.png" alt="Mosaic 3">
            <p class="caption">Mosaic of our Room</p>
        </div>
    </div>

        <div class="image-grid">
        <div class="image-item">
            <img src="./media/kit_1.png" alt="Mosaic 1">
            <p class="caption">Img 1 of our Kitchen</p>
        </div>
        <div class="image-item">
            <img src="./media/kit_2.png" alt="Mosaic 2">
            <p class="caption">Img 2 of our Kitchen</p>
        </div>
        <div class="image-item">
            <img src="./media/kit_f.png" alt="Mosaic 3">
            <p class="caption">Mosaic of our Kitchen</p>
        </div>
    </div>

    </div>
</body>
</html>
